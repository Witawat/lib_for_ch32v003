# SimplePWR Library - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

1. [‡∏ö‡∏ó‡∏ô‡∏≥](#‡∏ö‡∏ó‡∏ô‡∏≥)
2. [‡∏ó‡∏§‡∏©‡∏é‡∏µ‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£](#‡∏ó‡∏§‡∏©‡∏é‡∏µ‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£)
3. [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
4. [‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô](#‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô)
5. [‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á](#‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á)
6. [‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
7. [‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á](#‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á)
8. [‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô](#‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô)
9. [‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤](#‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤)

---

## ‡∏ö‡∏ó‡∏ô‡∏≥

### SimplePWR ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?

**SimplePWR** ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ó‡∏£‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå CH32V003 ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

- **Sleep Mode** - ‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á (CPU ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)
- **Standby Mode** - ‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (Deep Sleep)
- **PVD (Power Voltage Detector)** - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ï‡πà‡∏≥
- **AWU (Auto Wake-Up)** - ‡∏ï‡∏±‡πà‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏•‡∏∏‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ SimplePWR?

‚úÖ **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô** - ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 99%  
‚úÖ **‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢** - API ‡πÅ‡∏ö‡∏ö Arduino-like  
‚úÖ **‡∏¢‡∏∑‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà** - ‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏µ  
‚úÖ **‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö IoT** - ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ô‡∏≤‡∏ô‡πÜ  

### ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

| ‡πÇ‡∏´‡∏°‡∏î | ‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ | ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô |
|------|------------|----------|
| **Active** | 3-5 mA | ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏ï‡πá‡∏° |
| **Sleep** | 1-2 mA | CPU ‡∏´‡∏¢‡∏∏‡∏î, Peripheral ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô |
| **Standby** | 5 ¬µA | ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏¢‡∏∏‡∏î, ‡∏£‡∏≠‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏õ‡∏•‡∏∏‡∏Å |

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:** ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà CR2032 (220mAh)
- Active Mode: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ ~44 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (2 ‡∏ß‡∏±‡∏ô)
- Standby Mode: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ ~44,000 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (5 ‡∏õ‡∏µ!)

---

## ‡∏ó‡∏§‡∏©‡∏é‡∏µ‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£

### 1. Sleep Mode (‡πÇ‡∏´‡∏°‡∏î‡∏û‡∏±‡∏Å‡πÄ‡∏ö‡∏≤)

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
- CPU ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á)
- Peripheral ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠ (Timer, USART, ADC, etc.)
- ‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Interrupt ‡πÉ‡∏î‡πÜ
- ‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏£‡πá‡∏ß (~1-2 ¬µs)

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ:**
- ‡∏£‡∏≠ Interrupt ‡∏à‡∏≤‡∏Å Peripheral
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏£‡πá‡∏ß
- ‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ Timer ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**
- ‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å
- RAM ‡πÅ‡∏•‡∏∞ Register ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°
- Peripheral ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**
- ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ Standby
- ‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ~1-2 mA

### 2. Standby Mode (‡πÇ‡∏´‡∏°‡∏î‡∏û‡∏±‡∏Å‡∏•‡∏∂‡∏Å)

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
- CPU ‡πÅ‡∏•‡∏∞ Peripheral ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏û‡∏µ‡∏¢‡∏á RTC ‡πÅ‡∏•‡∏∞ AWU ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- RAM ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢
- ‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ Reset (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà)

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ:**
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡πà‡∏≠‡∏¢
- ‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ RAM ‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**
- ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (~5 ¬µA)
- ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**
- ‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏ä‡πâ‡∏≤ (~1-2 ms)
- RAM ‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢ (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà)
- ‡∏£‡∏∞‡∏ö‡∏ö Reset (main() ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà)

### 3. PVD (Power Voltage Detector)

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ VDD
- ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ Threshold ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á Interrupt ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î

**‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:**
- 2.9V, 3.1V, 3.3V, 3.5V, 3.7V, 3.9V, 4.1V, 4.4V

**‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**
```c
// ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ PVD ‡∏ó‡∏µ‡πà 3.3V
PWR_EnablePVD(PWR_PVD_3V3);

// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
if (PWR_GetPVDStatus()) {
    // ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 3.3V!
    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏ü‡∏î‡∏±‡∏ö
}
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Brown-out
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏ü‡∏î‡∏±‡∏ö

### 4. AWU (Auto Wake-Up Timer)

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
- ‡πÉ‡∏ä‡πâ LSI Clock (128kHz) ‡πÄ‡∏õ‡πá‡∏ô Timebase
- ‡∏°‡∏µ Prescaler ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏ß‡∏•‡∏≤
- ‡∏°‡∏µ Window Counter (0-63) ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤
- ‡∏ï‡∏∑‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö‡πÄ‡∏ß‡∏•‡∏≤

**‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤:**
```
Timeout (ms) = (Prescaler √ó Window √ó 1000) / LSI_Freq
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```c
// ‡∏ï‡∏∑‡πà‡∏ô‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
// Prescaler = 2048, Window = 63
// Timeout = (2048 √ó 63 √ó 1000) / 128000 = 1008 ms
PWR_ConfigureAWU(PWR_AWU_PRESCALER_2048, 63);
```

**‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:**
- LSI ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ¬±25%
- ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ~30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ä‡πâ External RTC

---

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. ‡πÄ‡∏û‡∏¥‡πà‡∏° SimplePWR ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```c
#include "SimpleHAL.h"  // ‡∏£‡∏ß‡∏° SimplePWR ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
```

### 2. ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

```c
#include "ch32v00x.h"
#include "SimpleHAL.h"

void main(void)
{
    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
    NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);
    SystemCoreClockUpdate();
    Delay_Init();
    
    // ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö LED
    pinMode(PD6, OUTPUT);
    digitalWrite(PD6, HIGH);
    Delay_Ms(100);
    digitalWrite(PD6, LOW);
    
    // ‡πÄ‡∏Ç‡πâ‡∏≤ Standby Mode 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    PWR_Standby(5000);
    
    // ‡∏à‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ Reset)
    while(1);
}
```

---

## ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

### 1. Sleep Mode - ‡∏û‡∏±‡∏Å‡πÄ‡∏ö‡∏≤

**‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô:**
```c
void PWR_Sleep(void);
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```c
while(1) {
    // ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    digitalWrite(LED_PIN, HIGH);
    Delay_Ms(100);
    digitalWrite(LED_PIN, LOW);
    
    // ‡∏û‡∏±‡∏Å‡πÄ‡∏ö‡∏≤ (‡∏ï‡∏∑‡πà‡∏ô‡∏à‡∏≤‡∏Å SysTick)
    PWR_Sleep();
    Delay_Ms(900);
}
```

**‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô:** ~50-60%

### 2. Standby Mode - ‡∏û‡∏±‡∏Å‡∏•‡∏∂‡∏Å

**‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô:**
```c
void PWR_Standby(uint32_t timeout_ms);
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```c
// ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö LED
digitalWrite(LED_PIN, HIGH);
Delay_Ms(100);
digitalWrite(LED_PIN, LOW);

// ‡∏û‡∏±‡∏Å‡∏•‡∏∂‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
PWR_Standby(10000);

// ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ Reset ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏° main() ‡πÉ‡∏´‡∏°‡πà
```

**‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô:** ~99.9%

### 3. Standby ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏µ Interrupt

**‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô:**
```c
void PWR_StandbyUntilInterrupt(void);
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```c
// ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Wake-up Pin
PWR_EnableWakeupPin();  // PA0

// ‡∏û‡∏±‡∏Å‡∏•‡∏∂‡∏Å‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°
PWR_StandbyUntilInterrupt();
```

### 4. ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ï‡πà‡∏≥‡∏î‡πâ‡∏ß‡∏¢ PVD

**‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô:**
```c
void PWR_EnablePVD(uint32_t voltage_level);
uint8_t PWR_GetPVDStatus(void);
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```c
// ‡πÄ‡∏õ‡∏¥‡∏î PVD ‡∏ó‡∏µ‡πà 3.3V
PWR_EnablePVD(PWR_PVD_3V3);

while(1) {
    if (PWR_GetPVDStatus()) {
        // ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 3.3V!
        printf("Warning: Low voltage!\n");
    }
    Delay_Ms(1000);
}
```

---

## ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á

### 1. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î AWU ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

**‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô:**
```c
void PWR_ConfigureAWU(uint32_t prescaler, uint8_t window);
uint32_t PWR_GetAWUTimeout(uint32_t prescaler, uint8_t window);
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```c
// ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏∑‡πà‡∏ô‡∏ó‡∏∏‡∏Å 500ms
uint8_t window = PWR_AWU_CALC_WINDOW(1024, 500);

// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£‡∏¥‡∏á
uint32_t actual_time = PWR_GetAWUTimeout(PWR_AWU_PRESCALER_1024, window);
printf("Actual timeout: %lu ms\n", actual_time);

// ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ AWU
PWR_ConfigureAWU(PWR_AWU_PRESCALER_1024, window);
PWR_EnterStandbyMode(PWR_ENTRY_WFI);
```

### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ï‡∏∑‡πà‡∏ô

**‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô:**
```c
uint8_t PWR_WasStandbyWakeup(void);
void PWR_ClearStandbyFlag(void);
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```c
void main(void) {
    SystemCoreClockUpdate();
    Delay_Init();
    
    if (PWR_WasStandbyWakeup()) {
        // ‡∏ï‡∏∑‡πà‡∏ô‡∏à‡∏≤‡∏Å Standby
        PWR_ClearStandbyFlag();
        printf("Woke up from standby\n");
    } else {
        // ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
        printf("First boot\n");
    }
    
    // ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠...
}
```

### 3. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà

**‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô:**
```c
uint32_t PWR_CalculateBatteryLife(
    uint16_t battery_mah,
    uint8_t active_time_percent,
    uint16_t active_current_ma,
    uint16_t standby_current_ua
);
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```c
// ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà 1000mAh
// ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 1% ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (20mA)
// ‡∏û‡∏±‡∏Å 99% ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (5¬µA)
uint32_t hours = PWR_CalculateBatteryLife(1000, 1, 20, 5);
printf("Battery life: %lu hours (%.1f days)\n", 
       hours, hours / 24.0);
// Output: Battery life: 49750 hours (2072.9 days)
```

### 4. ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏ô Standby

**‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô:**
```c
uint32_t PWR_EstimateStandbyCurrent(
    uint8_t pvd_enabled,
    uint8_t awu_enabled
);
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```c
// Standby + AWU
uint32_t current_ua = PWR_EstimateStandbyCurrent(0, 1);
printf("Estimated current: %lu ¬µA\n", current_ua);
// Output: ~5 ¬µA

// Standby + AWU + PVD
current_ua = PWR_EstimateStandbyCurrent(1, 1);
printf("Estimated current: %lu ¬µA\n", current_ua);
// Output: ~10 ¬µA
```

---

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 1: LED ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô

```c
#include "SimpleHAL.h"

#define LED_PIN PD6

void main(void) {
    SystemCoreClockUpdate();
    Delay_Init();
    pinMode(LED_PIN, OUTPUT);
    
    // ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö
    digitalWrite(LED_PIN, HIGH);
    Delay_Ms(100);
    digitalWrite(LED_PIN, LOW);
    
    // ‡∏û‡∏±‡∏Å‡∏•‡∏∂‡∏Å 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    PWR_Standby(5000);
}
```

**‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà:**
- CR2032 (220mAh): ~5 ‡∏õ‡∏µ
- AAA (1000mAh): ~22 ‡∏õ‡∏µ

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ

```c
#include "SimpleHAL.h"

void main(void) {
    SystemCoreClockUpdate();
    Delay_Init();
    
    // ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå
    float temperature = ReadTemperature();
    float humidity = ReadHumidity();
    
    // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    SendData(temperature, humidity);
    
    // ‡∏û‡∏±‡∏Å‡∏•‡∏∂‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ (300,000 ms)
    // ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å AWU ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà ~30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    // ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏∑‡πà‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö
    for (uint8_t i = 0; i < 10; i++) {
        PWR_Standby(30000);  // 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ √ó 10 = 5 ‡∏ô‡∏≤‡∏ó‡∏µ
    }
}
```

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 3: ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà‡∏ï‡πà‡∏≥

```c
#include "SimpleHAL.h"

#define LED_PIN PD6

void main(void) {
    SystemCoreClockUpdate();
    Delay_Init();
    pinMode(LED_PIN, OUTPUT);
    
    // ‡πÄ‡∏õ‡∏¥‡∏î PVD ‡∏ó‡∏µ‡πà 3.5V (‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà LiPo ‡∏ï‡πà‡∏≥)
    PWR_EnablePVD(PWR_PVD_3V5);
    
    while(1) {
        if (PWR_GetPVDStatus()) {
            // ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà‡∏ï‡πà‡∏≥! ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
            for (uint8_t i = 0; i < 10; i++) {
                digitalWrite(LED_PIN, HIGH);
                Delay_Ms(100);
                digitalWrite(LED_PIN, LOW);
                Delay_Ms(100);
            }
            
            // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
            SaveData();
            PWR_StandbyUntilInterrupt();
        }
        
        // ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
        DoWork();
        Delay_Ms(1000);
    }
}
```

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 4: State Machine ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô

```c
#include "SimpleHAL.h"

typedef enum {
    STATE_ACTIVE,
    STATE_IDLE,
    STATE_SLEEP,
    STATE_STANDBY
} PowerState_t;

PowerState_t current_state = STATE_IDLE;
uint32_t last_activity = 0;

void main(void) {
    SystemCoreClockUpdate();
    Delay_Init();
    
    while(1) {
        uint32_t idle_time = (millis() - last_activity) / 1000;
        
        if (idle_time < 5) {
            current_state = STATE_IDLE;
        } else if (idle_time < 30) {
            current_state = STATE_SLEEP;
        } else {
            current_state = STATE_STANDBY;
        }
        
        switch(current_state) {
            case STATE_ACTIVE:
                DoWork();
                break;
                
            case STATE_IDLE:
                Delay_Ms(100);
                break;
                
            case STATE_SLEEP:
                PWR_Sleep();
                Delay_Ms(1000);
                break;
                
            case STATE_STANDBY:
                PWR_Standby(30000);
                break;
        }
    }
}
```

---

## ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á

### ‡∏ï‡∏≤‡∏£‡∏≤‡∏á AWU Prescaler ‡πÅ‡∏•‡∏∞ Timeout

| Prescaler | ‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á | ‡πÄ‡∏ß‡∏•‡∏≤/Count | Timeout ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (Window=63) |
|-----------|---------|------------|---------------------------|
| 1 | 1 | ~7.8 ¬µs | 0.49 ms |
| 2 | 2 | ~15.6 ¬µs | 0.98 ms |
| 4 | 4 | ~31.25 ¬µs | 1.97 ms |
| 8 | 8 | ~62.5 ¬µs | 3.94 ms |
| 16 | 16 | ~125 ¬µs | 7.88 ms |
| 32 | 32 | ~250 ¬µs | 15.75 ms |
| 64 | 64 | ~500 ¬µs | 31.5 ms |
| 128 | 128 | ~1 ms | 63 ms |
| 256 | 256 | ~2 ms | 126 ms |
| 512 | 512 | ~4 ms | 252 ms |
| 1024 | 1024 | ~8 ms | 504 ms |
| 2048 | 2048 | ~16 ms | 1008 ms (1.0 s) |
| 4096 | 4096 | ~32 ms | 2016 ms (2.0 s) |
| 10240 | 10240 | ~80 ms | 5040 ms (5.0 s) |
| 61440 | 61440 | ~480 ms | 30240 ms (30.2 s) |

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Ñ‡πà‡∏≤‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å LSI = 128kHz (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ¬±25%)

### ‡∏ï‡∏≤‡∏£‡∏≤‡∏á PVD Voltage Levels

| Constant | ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô | ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô |
|----------|--------|-----------|
| PWR_PVD_2V9 | 2.9V | ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ï‡πà‡∏≥‡∏°‡∏≤‡∏Å |
| PWR_PVD_3V1 | 3.1V | ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü 3.0V |
| PWR_PVD_3V3 | 3.3V | ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü 3.3V (‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ) |
| PWR_PVD_3V5 | 3.5V | ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà LiPo ‡∏ï‡πà‡∏≥ |
| PWR_PVD_3V7 | 3.7V | ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà LiPo ‡∏õ‡∏Å‡∏ï‡∏¥ |
| PWR_PVD_3V9 | 3.9V | ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü 4.2V |
| PWR_PVD_4V1 | 4.1V | USB Power |
| PWR_PVD_4V4 | 4.4V | ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü 5V |

### ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô

| ‡πÇ‡∏´‡∏°‡∏î | ‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ | Peripheral ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô | ‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏∑‡πà‡∏ô |
|------|------------|---------------------|----------|
| Active (Run) | 3-5 mA | ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î | - |
| Sleep | 1-2 mA | Timer, USART, ADC | ~1-2 ¬µs |
| Standby (‡πÑ‡∏°‡πà‡∏°‡∏µ AWU) | ~2 ¬µA | ‡πÑ‡∏°‡πà‡∏°‡∏µ | ~1-2 ms |
| Standby (AWU ‡πÄ‡∏õ‡∏¥‡∏î) | ~5 ¬µA | AWU ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô | ~1-2 ms |
| Standby (PVD ‡πÄ‡∏õ‡∏¥‡∏î) | ~10 ¬µA | PVD ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô | ~1-2 ms |

---

## ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô

### 1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Power Mode ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°

**Sleep Mode ‡πÄ‡∏°‡∏∑‡πà‡∏≠:**
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏£‡πá‡∏ß (< 10 ¬µs)
- Peripheral ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á
- ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏™‡∏±‡πâ‡∏ô (< 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)

**Standby Mode ‡πÄ‡∏°‡∏∑‡πà‡∏≠:**
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
- ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ô‡∏≤‡∏ô (> 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
- ‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ RAM ‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢

### 2. ‡∏õ‡∏£‡∏±‡∏ö Clock Frequency

```c
// ‡∏•‡∏î Clock ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á
RCC_HCLKConfig(RCC_SYSCLK_Div2);  // 24MHz ‚Üí 12MHz
// ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ~30-40%
```

### 3. ‡∏õ‡∏¥‡∏î Peripheral ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ

```c
// ‡∏õ‡∏¥‡∏î ADC
ADC_Cmd(ADC1, DISABLE);
RCC_APB2PeriphClockCmd(RCC_APB2Periph_ADC1, DISABLE);

// ‡∏õ‡∏¥‡∏î USART
USART_Cmd(USART1, DISABLE);
RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1, DISABLE);

// ‡∏õ‡∏¥‡∏î SPI
SPI_Cmd(SPI1, DISABLE);
RCC_APB2PeriphClockCmd(RCC_APB2Periph_SPI1, DISABLE);
```

### 4. ‡πÉ‡∏ä‡πâ GPIO ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

```c
// ‡∏ï‡∏±‡πâ‡∏á GPIO ‡πÄ‡∏õ‡πá‡∏ô Analog Input (‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
pinMode(PA0, INPUT_ANALOG);
pinMode(PA1, INPUT_ANALOG);

// ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏¥‡∏î Pull-up/Pull-down
GPIO_InitTypeDef GPIO_InitStructure;
GPIO_InitStructure.GPIO_Pin = GPIO_Pin_All;
GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AIN;
GPIO_Init(GPIOA, &GPIO_InitStructure);
```

### 5. ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö Hardware ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô

**LED:**
- ‡πÉ‡∏ä‡πâ LED ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á (High-efficiency LED)
- ‡∏•‡∏î‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏à‡∏≤‡∏Å 20mA ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 2mA (‡∏¢‡∏±‡∏á‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ)
- ‡πÉ‡∏ä‡πâ PWM ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á

**Voltage Regulator:**
- ‡πÉ‡∏ä‡πâ LDO ‡∏ó‡∏µ‡πà‡∏°‡∏µ Quiescent Current ‡∏ï‡πà‡∏≥ (< 1¬µA)
- ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡πÉ‡∏ä‡πâ Buck Converter ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å

**External Components:**
- ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á (100kŒ©+) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Pull-up/Pull-down
- ‡∏õ‡∏¥‡∏î Voltage Divider ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÉ‡∏ä‡πâ MOSFET)

### 6. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà

**‡∏™‡∏π‡∏ï‡∏£:**
```
Average Current = (Active_Current √ó Active_Time% + Standby_Current √ó Standby_Time%) / 100
Battery Life (hours) = Battery_Capacity (mAh) / Average_Current (mA)
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà: 1000mAh
Active: 5mA, 1% ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤
Standby: 5¬µA (0.005mA), 99% ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤

Average = (5 √ó 1 + 0.005 √ó 99) / 100 = 0.055mA
Life = 1000 / 0.055 = 18,182 hours = 757 days = 2.1 years
```

---

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ï‡∏∑‡πà‡∏ô‡∏à‡∏≤‡∏Å Standby

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ:**

1. **‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ AWU**
   ```c
   // ‚úó ‡∏ú‡∏¥‡∏î
   PWR_EnterStandbyMode(PWR_ENTRY_WFI);
   
   // ‚úì ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
   PWR_ConfigureAWU(PWR_AWU_PRESCALER_2048, 63);
   PWR_EnterStandbyMode(PWR_ENTRY_WFI);
   
   // ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÜ
   PWR_Standby(5000);
   ```

2. **Wake-up Pin ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**
   ```c
   // ‡πÄ‡∏õ‡∏¥‡∏î Wake-up Pin ‡∏Å‡πà‡∏≠‡∏ô
   PWR_EnableWakeupPin();
   PWR_StandbyUntilInterrupt();
   ```

3. **LSI Clock ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ LSI ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
   - ‡∏•‡∏≠‡∏á Reset ‡∏£‡∏∞‡∏ö‡∏ö

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ:**

1. **Peripheral ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà**
   ```c
   // ‡∏õ‡∏¥‡∏î Peripheral ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤ Standby
   ADC_Cmd(ADC1, DISABLE);
   USART_Cmd(USART1, DISABLE);
   SPI_Cmd(SPI1, DISABLE);
   ```

2. **GPIO ‡∏°‡∏µ Pull-up/Pull-down**
   ```c
   // ‡∏ï‡∏±‡πâ‡∏á GPIO ‡πÄ‡∏õ‡πá‡∏ô Analog Input
   pinMode(PA0, INPUT_ANALOG);
   pinMode(PA1, INPUT_ANALOG);
   ```

3. **External Components ‡∏î‡∏∂‡∏á‡∏Å‡∏£‡∏∞‡πÅ‡∏™**
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö LED, Voltage Divider
   - ‡πÉ‡∏ä‡πâ MOSFET ‡∏õ‡∏¥‡∏î‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

4. **‡πÉ‡∏ä‡πâ Sleep ‡πÅ‡∏ó‡∏ô Standby**
   ```c
   // ‚úó Sleep Mode (~1-2mA)
   PWR_Sleep();
   
   // ‚úì Standby Mode (~5¬µA)
   PWR_Standby(5000);
   ```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: PVD ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ:**

1. **Threshold ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°**
   ```c
   // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü
   // ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ 3.3V ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á Threshold ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤
   PWR_EnablePVD(PWR_PVD_3V1);  // ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà 3V3
   ```

2. **Hysteresis ‡∏Ç‡∏≠‡∏á PVD**
   - PVD ‡∏°‡∏µ Hysteresis ~100mV
   - ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏î‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ Threshold ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

3. **Noise ‡∏ö‡∏ô‡∏™‡∏≤‡∏¢ VDD**
   - ‡πÉ‡∏™‡πà Capacitor ‡∏Å‡∏£‡∏≠‡∏á (100nF + 10¬µF)
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö PCB Layout

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÄ‡∏ß‡∏•‡∏≤ AWU ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ:**

1. **LSI ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏ï‡πà‡∏≥ (¬±25%)**
   - ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏Å‡∏ï‡∏¥
   - ‡πÉ‡∏ä‡πâ External RTC ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á

2. **‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠ LSI**
   - LSI ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ï‡∏≤‡∏°‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥
   - Calibrate ‡∏ó‡∏µ‡πà‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á

3. **‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î**
   ```c
   // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
   uint8_t window = PWR_AWU_CALC_WINDOW(2048, 1000);
   uint32_t actual = PWR_GetAWUTimeout(PWR_AWU_PRESCALER_2048, window);
   printf("Calculated: %lu ms\n", actual);
   ```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: RAM ‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏∑‡πà‡∏ô‡∏à‡∏≤‡∏Å Standby

**‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö:** ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏Å‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á Standby Mode

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

1. **‡πÉ‡∏ä‡πâ Backup Registers**
   ```c
   // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤ Standby
   BKP_WriteBackupRegister(BKP_DR1, data);
   
   // ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏∑‡πà‡∏ô
   uint16_t data = BKP_ReadBackupRegister(BKP_DR1);
   ```

2. **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á Flash**
   ```c
   // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏•‡∏á Flash
   Flash_WriteData(address, data, length);
   ```

3. **‡πÉ‡∏ä‡πâ Sleep Mode ‡πÅ‡∏ó‡∏ô**
   - ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö RAM
   - ‡πÅ‡∏ï‡πà‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤

---

## ‡∏™‡∏£‡∏∏‡∏õ

SimplePWR ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏ô CH32V003 ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ:

‚úÖ ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 99%  
‚úÖ ‡∏¢‡∏∑‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏µ  
‚úÖ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ API ‡πÅ‡∏ö‡∏ö Arduino  
‚úÖ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå IoT ‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà  

**‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**
1. Include SimpleHAL.h
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Power Mode ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
3. ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
4. ‡∏ß‡∏±‡∏î‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á

**‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:**
- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î: `/User/SimpleHAL/Examples/PWR/`
- Datasheet: CH32V003 Reference Manual
- Community: CH32V003 Forum

---

**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** 1.0.0  
**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 2025-12-22  
**‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤:** SimpleHAL Team
